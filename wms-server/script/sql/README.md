# WMS系统数据库脚本说明

## 脚本文件列表

1. **wms.sql** - WMS完整初始化脚本（唯一需要执行的脚本）
   - ✅ 包含所有表结构（系统表 + WMS业务表）
   - ✅ 包含WMS菜单配置（菜单ID从2000开始）
   - ✅ 包含WMS字典配置（字典类型ID从100开始）
   - 执行此文件即可完成数据库完整初始化

## ✅ 执行说明

**只需执行 `wms.sql` 一个文件即可！**

`wms.sql` 已包含：
1. ✅ 所有表结构（系统表 + WMS业务表）
2. ✅ WMS菜单配置
3. ✅ WMS字典配置

**执行方法：**
```bash
# MySQL命令行
mysql -u root -p ry-wms < wms.sql

# 或使用数据库管理工具直接执行 wms.sql 文件
```

## 注意事项

1. **菜单配置**：
   - 菜单ID从2000开始
   - 需要根据实际系统菜单表结构调整
   - 菜单路径需要与前端路由对应

2. **字典配置**：
   - 字典类型ID从100开始
   - 字典数据ID从1001开始
   - 需要根据实际系统字典表结构调整

3. **权限配置**：
   - 权限标识格式：`wms:模块:操作`
   - 例如：`wms:area:list`、`wms:area:add`、`wms:area:edit`、`wms:area:remove`
   - 需要在系统菜单管理界面配置按钮权限

## 菜单结构

```
WMS仓储管理 (2000)
├── 基础数据 (2001)
│   ├── 仓库管理 (2010)
│   ├── 货区管理 (2011)
│   ├── 货位管理 (2012)
│   ├── 物料类型 (2013)
│   ├── 托盘类型 (2014)
│   ├── 托盘管理 (2015)
│   ├── 阀门管理 (2016)
│   └── 库管员管理 (2017)
├── 条码管理 (2020)
│   ├── 条码信息 (2021)
│   └── 扫码任务 (2022)
├── 订单管理 (2030)
│   ├── 入库单 (2031)
│   ├── 出库单 (2032)
│   ├── 移库单 (2033)
│   └── 盘点单 (2034)
├── 库存管理 (2040)
│   ├── 库存统计 (2041)
│   ├── 库存历史 (2042)
│   └── 库存查询 (2043)
├── 任务管理 (2050)
│   └── AGV任务 (2051)
├── PDA管理 (2060)
│   ├── PDA操作记录 (2061)
│   └── PDA日志 (2062)
├── 报表查询 (2070)
└── 系统配置 (2080)
    ├── WMS配置 (2081)
    └── 数据备份 (2082)
```

## 权限标识说明

### 基础数据模块
- `wms:warehouse:list` - 仓库查询
- `wms:area:list` - 货区查询
- `wms:area:add` - 货区新增
- `wms:area:edit` - 货区修改
- `wms:area:remove` - 货区删除
- `wms:area:export` - 货区导出
- `wms:bin:list` - 货位查询
- `wms:valve:list` - 阀门查询
- `wms:warehouseKeeper:list` - 库管员查询

### 条码管理模块
- `wms:barcode:list` - 条码查询
- `wms:scanTask:list` - 扫码任务查询

### 订单管理模块
- `wms:receipt:list` - 入库单查询
- `wms:shipment:list` - 出库单查询
- `wms:movement:list` - 移库单查询
- `wms:check:list` - 盘点单查询

### 库存管理模块
- `wms:inventory:list` - 库存查询
- `wms:inventory:query` - 库存查询（增强）

### 任务管理模块
- `wms:agvTask:list` - AGV任务查询
- `wms:agvTask:cancel` - AGV任务取消

### PDA管理模块
- `wms:pdaOperation:list` - PDA操作记录查询
- `wms:pdaLog:list` - PDA日志查询

### 报表查询模块
- `wms:report:list` - 报表查询

### 系统配置模块
- `wms:config:list` - WMS配置查询
- `wms:backup:list` - 数据备份查询
- `wms:backup:backup` - 执行备份
- `wms:backup:restore` - 恢复备份

## 使用说明

1. 执行 `wms.sql` 脚本完成数据库初始化（包含表结构、菜单、字典）
2. 登录系统管理后台
3. 进入"系统管理" -> "菜单管理"，检查WMS菜单是否已创建
4. 进入"系统管理" -> "字典管理"，检查WMS字典是否已创建
5. 配置角色权限，分配相应的菜单和按钮权限

